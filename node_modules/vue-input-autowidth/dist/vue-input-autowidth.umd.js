!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["vue-input-autowidth"]={})}(this,(function(e){"use strict";const t={maxWidth:void 0,minWidth:void 0,comfortZone:"0px",watchWindowSize:!1,windowResizeHandlerDebounceTime:150,disableNonInputWarning:!1},i=e=>{const{mirror:t,options:i}=e;i.maxWidth&&(e.style.maxWidth=i.maxWidth),i.minWidth&&(e.style.minWidth=i.minWidth);let n=e.value;for(n||(n=e.placeholder||"");t.childNodes.length;)t.removeChild(t.childNodes[0]);t.appendChild(document.createTextNode(n));const o=t.scrollWidth+2;o!=e.scrollWidth&&(e.style.width=`${o}px`)},n=e=>{const t=window.getComputedStyle(e),{options:i}=e;Object.assign(e.mirror.style,{position:"absolute",top:"0",left:"0",visibility:"hidden",height:"0",overflow:"hidden",whiteSpace:"pre",fontSize:t.fontSize,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontStyle:t.fontStyle,letterSpacing:t.letterSpacing,textTransform:t.textTransform,paddingRight:`calc(${i.comfortZone} + ${t.paddingRight} + ${t.borderRightWidth})`,paddingLeft:`calc(${t.paddingLeft} + ${t.borderLeftWidth})`})},o=e=>{n(e),i(e)};var d={beforeMount:function(e,i){var n;if(e.options=(n=i.value,Object.assign({},t,n)),!e.options.disableNonInputWarning&&"INPUT"!==e.tagName.toLocaleUpperCase())throw new Error("v-input-autowidth can only be used on input elements.")},mounted:function(e,t,d){const r=Object.prototype.hasOwnProperty.call(d.props,"@onUpdate:modelValue");if(e.sizerFunc=t=>i(e),e.mirror=document.createElement("div"),n(e),e.mirror.setAttribute("aria-hidden","true"),document.body.appendChild(e.mirror),o(e),r||e.addEventListener("input",e.sizerFunc),e.options.watchWindowSize&&void 0!==e.options.windowResizeHandlerDebounceTime){const t=t=>o(e);e.windowResizeHandler=((e,t)=>{let i;return(...n)=>{let o;return i&&clearTimeout(i),i=setTimeout((()=>{o=e(...n)}),t),o}})(t,e.options.windowResizeHandlerDebounceTime),window.addEventListener("resize",e.windowResizeHandler,{passive:!0})}},updated:function(e){e.sizerFunc&&e.sizerFunc()},unmounted:function(e){document.body.removeChild(e.mirror),e.sizerFunc&&e.removeEventListener("input",e.sizerFunc),e.options.watchWindowSize&&e.windowResizeHandler&&window.removeEventListener("resize",e.windowResizeHandler)}};const r={install:e=>{Number(e.version.split(".")[0])<3&&console.warn("This plugin requires Vue 3"),e.directive("autowidth",d)}};e.directive=d,e.plugin=r,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
